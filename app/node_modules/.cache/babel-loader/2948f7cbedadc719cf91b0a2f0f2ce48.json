{"ast":null,"code":"import _toConsumableArray from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Table,Button}from'react-bootstrap';import Note from'../components/Note';import{updateNote,getNotes}from'../services/note';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Notes=function Notes(_ref){var notes=_ref.notes,setNotes=_ref.setNotes;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showAll=_useState2[0],setShowAll=_useState2[1];var handleToggleImporntant=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var note,changeNote,noteUpdate;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:note=notes.find(function(n){return n.id===id;});changeNote=_objectSpread(_objectSpread({},note),{},{important:!note.important});_context.next=4;return updateNote(id,changeNote);case 4:noteUpdate=_context.sent;setNotes(notes.map(function(n){return n.id!==id?n:noteUpdate;}));case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleToggleImporntant(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){getNotes().then(function(resp){setNotes(_toConsumableArray(resp));});},[]);var noteShow=showAll?notes:notes.filter(function(note){return note.important;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"danger\",className:\"my-4\",onClick:function onClick(){return setShowAll(!showAll);},children:[\"show \",showAll?'important':'all']}),/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,bordered:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tool\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:noteShow.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note,handleToggle:function handleToggle(){return handleToggleImporntant(note.id);}},note.id);})})]})]});};export default Notes;","map":{"version":3,"names":["React","useState","useEffect","Table","Button","Note","updateNote","getNotes","Notes","notes","setNotes","showAll","setShowAll","handleToggleImporntant","id","note","find","n","changeNote","important","noteUpdate","map","then","resp","noteShow","filter"],"sources":["/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/app/src/pages/Notes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Table, Button } from 'react-bootstrap';\nimport Note from '../components/Note';\nimport { updateNote, getNotes } from '../services/note';\n\nconst Notes = ({\n  notes,\n  setNotes\n}) => {\n\n  const [showAll, setShowAll] = useState(true);\n\n  const handleToggleImporntant = async (id) => {\n    const note = notes.find(n => n.id === id);\n    const changeNote = { ...note, important: !note.important };\n\n    const noteUpdate = await updateNote(id, changeNote);\n    setNotes(notes.map(n => n.id !== id ? n : noteUpdate));\n  };\n\n  useEffect(() => {\n    getNotes()\n      .then(resp => {\n        setNotes([...resp]);\n      });\n  }, []);\n\n  const noteShow = showAll\n    ? notes\n    : notes.filter(note => note.important);\n\n  return (\n    <div>\n      <Button\n        variant=\"danger\"\n        className='my-4'\n        onClick={() => setShowAll(!showAll)}\n      >show {showAll ? 'important' : 'all'}</Button>\n\n      <Table striped hover bordered>\n        <thead>\n          <tr>\n            <th>Title</th>\n            <th>Author</th>\n            <th>Tool</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            noteShow.map(note => (\n              <Note\n                key={note.id}\n                note={note}\n                handleToggle={() => handleToggleImporntant(note.id)}\n              />\n            ))\n          }\n\n        </tbody>\n      </Table>\n    </div>\n  );\n\n};\n\nexport default Notes;"],"mappings":"+rBAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,CACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,kBAArC,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,MAGR,IAFJC,MAEI,MAFJA,KAEI,CADJC,QACI,MADJA,QACI,CAEJ,cAA8BT,QAAQ,CAAC,IAAD,CAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,uBAAsB,6FAAG,iBAAOC,EAAP,mJACvBC,IADuB,CAChBN,KAAK,CAACO,IAAN,CAAW,SAAAC,CAAC,QAAIA,EAAC,CAACH,EAAF,GAASA,EAAb,EAAZ,CADgB,CAEvBI,UAFuB,gCAELH,IAFK,MAECI,SAAS,CAAE,CAACJ,IAAI,CAACI,SAFlB,yBAIJb,WAAU,CAACQ,EAAD,CAAKI,UAAL,CAJN,QAIvBE,UAJuB,eAK7BV,QAAQ,CAACD,KAAK,CAACY,GAAN,CAAU,SAAAJ,CAAC,QAAIA,EAAC,CAACH,EAAF,GAASA,EAAT,CAAcG,CAAd,CAAkBG,UAAtB,EAAX,CAAD,CAAR,CAL6B,sDAAH,kBAAtBP,uBAAsB,6CAA5B,CAQAX,SAAS,CAAC,UAAM,CACdK,QAAQ,GACLe,IADH,CACQ,SAAAC,IAAI,CAAI,CACZb,QAAQ,oBAAKa,IAAL,EAAR,CACD,CAHH,EAID,CALQ,CAKN,EALM,CAAT,CAOA,GAAMC,SAAQ,CAAGb,OAAO,CACpBF,KADoB,CAEpBA,KAAK,CAACgB,MAAN,CAAa,SAAAV,IAAI,QAAIA,KAAI,CAACI,SAAT,EAAjB,CAFJ,CAIA,mBACE,oCACE,MAAC,MAAD,EACE,OAAO,CAAC,QADV,CAEE,SAAS,CAAC,MAFZ,CAGE,OAAO,CAAE,yBAAMP,WAAU,CAAC,CAACD,OAAF,CAAhB,EAHX,mBAIOA,OAAO,CAAG,WAAH,CAAiB,KAJ/B,GADF,cAOE,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,KAAK,KAApB,CAAqB,QAAQ,KAA7B,wBACE,oCACE,mCACE,6BADF,cAEE,8BAFF,cAGE,4BAHF,GADF,EADF,cAQE,uBAEIa,QAAQ,CAACH,GAAT,CAAa,SAAAN,IAAI,qBACf,KAAC,IAAD,EAEE,IAAI,CAAEA,IAFR,CAGE,YAAY,CAAE,8BAAMF,uBAAsB,CAACE,IAAI,CAACD,EAAN,CAA5B,EAHhB,EACOC,IAAI,CAACD,EADZ,CADe,EAAjB,CAFJ,EARF,GAPF,GADF,CAgCD,CA1DD,CA4DA,cAAeN,MAAf"},"metadata":{},"sourceType":"module"}