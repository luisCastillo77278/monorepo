{"ast":null,"code":"import _slicedToArray from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Navigate,Outlet,Route,Routes,useLocation}from'react-router-dom';import Notes from'./pages/Notes';import Footer from'./components/Footer';import FormLogin from'./components/FormLogin';import CreateNote from'./pages/CreateNote';import Home from'./pages/Home';import{useAuth}from'./context/userContext';import NavBar from'./components/NavBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=function Container(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Outlet,{}),/*#__PURE__*/_jsx(Footer,{})]});};var ProtectedRoute=function ProtectedRoute(_ref){var children=_ref.children;var _useAuth=useAuth(),isAutenticated=_useAuth.isAutenticated;var location=useLocation();if(!isAutenticated.token){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true,state:{location:location}});}return children;};var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useAuth2=useAuth(),isAutenticated=_useAuth2.isAutenticated,login=_useAuth2.login,logout=_useAuth2.logout;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(Container,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"notes\",element:/*#__PURE__*/_jsx(Notes,{setNotes:setNotes,notes:notes})}),/*#__PURE__*/_jsx(Route,{path:\"create-note\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CreateNote,{setNotes:setNotes,notes:notes,user:isAutenticated.user,handleLogout:logout})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(FormLogin,{setLogin:login})})]})})});};export default App;","map":{"version":3,"names":["React","useState","Navigate","Outlet","Route","Routes","useLocation","Notes","Footer","FormLogin","CreateNote","Home","useAuth","NavBar","Container","ProtectedRoute","children","isAutenticated","location","token","App","notes","setNotes","login","logout","user"],"sources":["/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Navigate, Outlet, Route, Routes, useLocation } from 'react-router-dom';\nimport Notes from './pages/Notes';\nimport Footer from './components/Footer';\nimport FormLogin from './components/FormLogin';\nimport CreateNote from './pages/CreateNote';\nimport Home from './pages/Home';\nimport { useAuth } from './context/userContext';\nimport NavBar from './components/NavBar';\n\n\nconst Container = () => (\n  <div className='container'>\n    <NavBar />\n    <Outlet />\n    <Footer />\n  </div>\n);\n\nconst ProtectedRoute = ({ children }) => {\n  const { isAutenticated } = useAuth();\n  const location = useLocation();\n  if (!isAutenticated.token) {\n    return <Navigate to=\"/login\" replace state={{ location }} />;\n  }\n  return children;\n};\n\nconst App = () => {\n  const [notes, setNotes] = useState([]);\n  const { isAutenticated, login, logout } = useAuth();\n\n  return (\n    <div>\n      <Routes>\n        <Route element={<Container />} >\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"notes\" element={<Notes setNotes={setNotes} notes={notes} />} />\n          {/* route note id */}\n          <Route path='create-note' element={\n            <ProtectedRoute>\n              <CreateNote\n                setNotes={setNotes}\n                notes={notes}\n                user={isAutenticated.user}\n                handleLogout={logout} />\n            </ProtectedRoute>\n          }\n          />\n          <Route path=\"/login\" element={<FormLogin setLogin={login} />} />\n        </Route>\n      </Routes>\n\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"wIAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,CAAmBC,MAAnB,CAA2BC,KAA3B,CAAkCC,MAAlC,CAA0CC,WAA1C,KAA6D,kBAA7D,CACA,MAAOC,MAAP,KAAkB,eAAlB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CACA,MAAOC,WAAP,KAAuB,oBAAvB,CACA,MAAOC,KAAP,KAAiB,cAAjB,CACA,OAASC,OAAT,KAAwB,uBAAxB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,C,wFAGA,GAAMC,UAAS,CAAG,QAAZA,UAAY,sBAChB,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,MAAD,IAHF,GADgB,EAAlB,CAQA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACvC,aAA2BJ,OAAO,EAAlC,CAAQK,cAAR,UAAQA,cAAR,CACA,GAAMC,SAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAI,CAACW,cAAc,CAACE,KAApB,CAA2B,CACzB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,CAAsB,OAAO,KAA7B,CAA8B,KAAK,CAAE,CAAED,QAAQ,CAARA,QAAF,CAArC,EAAP,CACD,CACD,MAAOF,SAAP,CACD,CAPD,CASA,GAAMI,IAAG,CAAG,QAANA,IAAM,EAAM,CAChB,cAA0BnB,QAAQ,CAAC,EAAD,CAAlC,wCAAOoB,KAAP,eAAcC,QAAd,eACA,cAA0CV,OAAO,EAAjD,CAAQK,cAAR,WAAQA,cAAR,CAAwBM,KAAxB,WAAwBA,KAAxB,CAA+BC,MAA/B,WAA+BA,MAA/B,CAEA,mBACE,kCACE,KAAC,MAAD,wBACE,MAAC,KAAD,EAAO,OAAO,cAAE,KAAC,SAAD,IAAhB,wBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,IAAD,IAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,KAAD,EAAO,QAAQ,CAAEF,QAAjB,CAA2B,KAAK,CAAED,KAAlC,EAA7B,EAFF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,OAAO,cAC/B,KAAC,cAAD,wBACE,KAAC,UAAD,EACE,QAAQ,CAAEC,QADZ,CAEE,KAAK,CAAED,KAFT,CAGE,IAAI,CAAEJ,cAAc,CAACQ,IAHvB,CAIE,YAAY,CAAED,MAJhB,EADF,EADF,EAJF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,SAAD,EAAW,QAAQ,CAAED,KAArB,EAA9B,EAdF,GADF,EADF,EADF,CAuBD,CA3BD,CA6BA,cAAeH,IAAf"},"metadata":{},"sourceType":"module"}