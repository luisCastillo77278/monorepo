{"ast":null,"code":"import _objectSpread from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{Form,Button}from'react-bootstrap';import{login}from'../services/user';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormLogin=function FormLogin(_ref){var setLogin=_ref.setLogin;var navigate=useNavigate();var _useLocation=useLocation(),state=_useLocation.state;var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return login(form);case 3:user=_context.sent;window.localStorage.setItem('session',JSON.stringify(user));setLogin(user);setForm({username:'',password:''});navigate(state.location.pathname||'/');case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Form,{className:\"my-4\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"username\",onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{username:e.target.value}));}})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"password\",onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{password:e.target.value}));}})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn-block my-3\",children:\"Login\"})]});};export default FormLogin;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","Form","Button","login","FormLogin","setLogin","navigate","state","username","password","form","setForm","handleLogin","e","preventDefault","user","window","localStorage","setItem","JSON","stringify","location","pathname","target","value"],"sources":["/Users/luisjesuscastillo/Desktop/bootcamp/monorepo/app/src/components/FormLogin.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport { login } from '../services/user';\n\nconst FormLogin = ({\n  setLogin\n}) => {\n\n  const navigate = useNavigate();\n  const { state } = useLocation();\n\n  const [form, setForm] = useState({\n    username: '',\n    password: ''\n  });\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    const user = await login(form);\n    window.localStorage.setItem('session', JSON.stringify(user));\n    setLogin(user);\n    setForm({ username: '', password: '' });\n    navigate(state.location.pathname || '/');\n  };\n\n  return (\n\n    <Form className='my-4' onSubmit={handleLogin}>\n      <Form.Group className='mb-3' controlId='formBasicEmail'>\n\n        <Form.Control\n          type=\"text\"\n          placeholder=\"username\"\n          onChange={e => setForm({ ...form, username: e.target.value })}\n        />\n\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          type=\"password\"\n          placeholder=\"password\"\n          onChange={e => setForm({ ...form, password: e.target.value })}\n        />\n      </Form.Group>\n\n      <Button type='submit' className='btn-block my-3'>Login</Button>\n\n    </Form>\n\n  );\n};\n\nexport default FormLogin;"],"mappings":"+iBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,kBAAzC,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAASC,KAAT,KAAsB,kBAAtB,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAEZ,IADJC,SACI,MADJA,QACI,CAEJ,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,iBAAkBD,WAAW,EAA7B,CAAQQ,KAAR,cAAQA,KAAR,CAEA,cAAwBT,QAAQ,CAAC,CAC/BU,QAAQ,CAAE,EADqB,CAE/BC,QAAQ,CAAE,EAFqB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAKA,GAAMC,YAAW,6FAAG,iBAAOC,CAAP,6HAClBA,CAAC,CAACC,cAAF,GADkB,sBAGCX,MAAK,CAACO,IAAD,CAHN,QAGZK,IAHY,eAIlBC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAuCC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAvC,EACAV,QAAQ,CAACU,IAAD,CAAR,CACAJ,OAAO,CAAC,CAAEH,QAAQ,CAAE,EAAZ,CAAgBC,QAAQ,CAAE,EAA1B,CAAD,CAAP,CACAH,QAAQ,CAACC,KAAK,CAACc,QAAN,CAAeC,QAAf,EAA2B,GAA5B,CAAR,CAPkB,sDAAH,kBAAXV,YAAW,6CAAjB,CAUA,mBAEE,MAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEA,WAAjC,wBACE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,CAA6B,SAAS,CAAC,gBAAvC,uBAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,QAAQ,CAAE,kBAAAC,CAAC,QAAIF,QAAO,gCAAMD,IAAN,MAAYF,QAAQ,CAAEK,CAAC,CAACU,MAAF,CAASC,KAA/B,GAAX,EAHb,EAFF,EADF,cAUE,KAAC,IAAD,CAAM,KAAN,wBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,QAAQ,CAAE,kBAAAX,CAAC,QAAIF,QAAO,gCAAMD,IAAN,MAAYD,QAAQ,CAAEI,CAAC,CAACU,MAAF,CAASC,KAA/B,GAAX,EAHb,EADF,EAVF,cAkBE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gBAAhC,mBAlBF,GAFF,CAyBD,CA/CD,CAiDA,cAAepB,UAAf"},"metadata":{},"sourceType":"module"}